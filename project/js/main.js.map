{"version":3,"sources":["main.js","helpers/get-elements.js","helpers/toggle-scroll-events.js","loader/loader.js","common/header-contacts.js","common/init-plugins.js","common/map.js","common/nav.js","common/scroll-to.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ARVA","file":"main.js","sourcesContent":["'use strict';\nvar templates = window.templates;\n\nfunction render(elem, tplName, data) {\n  data = data || {};\n  elem.innerHTML = templates[tplName](data);\n}\n\n//=require 'helpers/*.js'\n//=require 'loader/*.js'\n//=require 'common/*.js'\n","var qs = function(el, context) {\n  context = context || document;\n  context.querySelector(el);\n};\n\nvar qsa = function(selector, context) {\n  context = context || document;\n  Array.prototype.slice.call(\n    context.querySelectorAll(selector)\n  );\n};\n","function preventDefault(e) {\n  e = e || window.event;\n  if (e.preventDefault) {\n    e.preventDefault();\n  }\n  e.returnValue = false;\n}\n\nfunction disableScroll() {\n  if (window.addEventListener) {\n    window.addEventListener('DOMMouseScroll', preventDefault, false);\n  }\n  window.onwheel      = preventDefault;\n  window.onmousewheel = document.onmousewheel = preventDefault;\n  window.ontouchmove  = preventDefault;\n}\n\nfunction enableScroll() {\n  if (window.removeEventListener) {\n    window.removeEventListener('DOMMouseScroll', preventDefault, false);\n  }\n  window.onwheel      = null;\n  window.onmousewheel = document.onmousewheel = null;\n  window.ontouchmove  = null;\n}\n","var loader = (function() {\n  var ldr = document.getElementById('loader');\n  var loaderProgress = document.querySelector('.loader__inner', ldr);\n  var progressBar = document.querySelector('.pace-progress');\n  var progressValue;\n\n  var intervalID = setInterval(function() {\n    progressValue = progressBar.dataset.progressText;\n    loaderProgress.style.width = progressValue;\n  }, 50);\n\n\n  Pace.on('hide', function() {\n    ldr.classList.add('fadeOut');\n\n    clearInterval(intervalID);\n\n    setTimeout(function() {\n      ldr.classList.add('hidden');\n    }, 500);\n  });\n})();\n","(function() {\n  var mobileContainer   = document.querySelector('.mobile');\n  var mobileLink        = mobileContainer.querySelector('.mobile__link');\n  var close             = mobileContainer.querySelector('.mobile__close');\n  var headerContacts    = document.querySelector('.header__contacts');\n  var location          = headerContacts.querySelector('.contacts__item_address');\n  var phone             = headerContacts.querySelector('.contacts__item_phone');\n  var overlay           = document.querySelector('.overlay');\n  var mobAddress        = document.querySelector('.mob-address a');\n  var tlOpen            = new TimelineMax();\n  var tlClose           = new TimelineMax();\n  var animationDuration = 0.4;\n  var timingFunction    = 'Power1.easeInOut';\n  var winWidth            = window.innerWidth;\n\n  function setMobileAddress() {\n    var text = location.querySelector('.contacts__text').innerHTML;\n    var href = 'http://maps.google.com?q=' + text;\n    var small = '<small>построить маршрут</small>';\n    mobAddress.innerHTML = text + small;\n    mobAddress.setAttribute('href', href);\n  }\n\n  function init() {\n    winWidth = window.innerWidth;\n  }\n\n  function setLink(el) {\n    var text = el.querySelector('.contacts__text').innerHTML;\n    var href = 'javascript:void(0)';\n    var descr;\n    var small;\n\n    if(el.classList.contains('contacts__item_phone')) {\n      href = 'tel:' + text;\n      descr = 'позвонить';\n    } else if(el.classList.contains('contacts__item_address')) {\n      href = 'http://maps.google.com?q=' + text;\n      descr = 'построить маршрут';\n    }\n\n    small = '<small>' + descr + '</small>';\n\n    mobileLink.innerHTML = text + small;\n    mobileLink.setAttribute('href', href);\n  }\n\n  function clearLink() {\n    mobileLink.innerHTML = '';\n    mobileLink.setAttribute('href', '');\n  }\n\n  function onOpen() {\n    tlOpen\n      .to(mobileLink, 0, {opacity: 0})\n      .to(overlay, 0, {display: 'block', ease: timingFunction})\n      .to(overlay, animationDuration, {opacity: 1, ease: timingFunction})\n      .to(mobileContainer, animationDuration, {x: 0, opacity: 1, ease: timingFunction})\n      .to(mobileLink, animationDuration, {opacity: 1})\n      .to(close, 0.2, {opacity: 1});\n\n    setLink(this);\n\n    disableScroll();\n  }\n\n  function onClose() {\n    tlClose\n      .to(mobileContainer, 0.2, {opacity: 0, x: winWidth, ease: timingFunction})\n      .to(close, 0, {opacity: 0})\n      .to(mobileLink, 0, {opacity: 0})\n      .to(overlay, 0.2, {opacity: 0, ease: timingFunction})\n      .to(overlay, 0, {display: 'none', ease: timingFunction});\n\n    enableScroll();\n\n    setTimeout(function() {\n      clearLink();\n    }, 250);\n  }\n\n  function bindEvents() {\n    location.addEventListener('click', onOpen);\n    phone.addEventListener('click', onOpen);\n    overlay.addEventListener('click', onClose);\n    close.addEventListener('click', onClose);\n  }\n\n  init();\n\n  if(winWidth > 1025) return;\n\n  bindEvents();\n\n  setMobileAddress();\n}());\n","(function($) {\n  $('.owl-carousel').owlCarousel({\n    items: 1,\n    center: true,\n    nav: true,\n    navText: ['<i class=\"ion-ios-arrow-left\"></i>', '<i class=\"ion-ios-arrow-right\"></i>'],\n    lazyLoad: true,\n    smartSpeed: 400\n  });\n}(jQuery));\n","function initMap() {\n  var mapContainer = document.getElementById('map');\n  var mapStyles    = [\n    {\n      'featureType': 'all',\n      'elementType': 'labels.text.fill',\n      'stylers': [\n        {\n          'saturation': 36\n        },\n        {\n          'color': '#333333'\n        },\n        {\n          'lightness': 40\n        }\n      ]\n    },\n    {\n      'featureType': 'all',\n      'elementType': 'labels.text.stroke',\n      'stylers': [\n        {\n          'visibility': 'on'\n        },\n        {\n          'color': '#ffffff'\n        },\n        {\n          'lightness': 16\n        }\n      ]\n    },\n    {\n      'featureType': 'all',\n      'elementType': 'labels.icon',\n      'stylers': [\n        {\n          'visibility': 'off'\n        }\n      ]\n    },\n    {\n      'featureType': 'administrative',\n      'elementType': 'geometry.fill',\n      'stylers': [\n        {\n          'color': '#fefefe'\n        },\n        {\n          'lightness': 20\n        }\n      ]\n    },\n    {\n      'featureType': 'administrative',\n      'elementType': 'geometry.stroke',\n      'stylers': [\n        {\n          'color': '#fefefe'\n        },\n        {\n          'lightness': 17\n        },\n        {\n          'weight': 1.2\n        }\n      ]\n    },\n    {\n      'featureType': 'landscape',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#f5f5f5'\n        },\n        {\n          'lightness': 20\n        }\n      ]\n    },\n    {\n      'featureType': 'poi',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#f5f5f5'\n        },\n        {\n          'lightness': 21\n        }\n      ]\n    },\n    {\n      'featureType': 'poi.park',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#dedede'\n        },\n        {\n          'lightness': 21\n        }\n      ]\n    },\n    {\n      'featureType': 'road.highway',\n      'elementType': 'geometry.fill',\n      'stylers': [\n        {\n          'color': '#ffffff'\n        },\n        {\n          'lightness': 17\n        }\n      ]\n    },\n    {\n      'featureType': 'road.highway',\n      'elementType': 'geometry.stroke',\n      'stylers': [\n        {\n          'color': '#ffffff'\n        },\n        {\n          'lightness': 29\n        },\n        {\n          'weight': 0.2\n        }\n      ]\n    },\n    {\n      'featureType': 'road.arterial',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#ffffff'\n        },\n        {\n          'lightness': 18\n        }\n      ]\n    },\n    {\n      'featureType': 'road.local',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#ffffff'\n        },\n        {\n          'lightness': 16\n        }\n      ]\n    },\n    {\n      'featureType': 'transit',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#f2f2f2'\n        },\n        {\n          'lightness': 19\n        }\n      ]\n    },\n    {\n      'featureType': 'water',\n      'elementType': 'geometry',\n      'stylers': [\n        {\n          'color': '#e9e9e9'\n        },\n        {\n          'lightness': 17\n        }\n      ]\n    }\n  ];\n  var markerImages = ['img/buble-250px.svg', 'img/buble-150px.svg'];\n  var markerLatLng = {lat: 50.457492, lng: 30.519226};\n  var mapPosition  = [markerLatLng, {lat: 50.458290, lng: 30.519077}];\n  var windowWidth  = window.innerWidth;\n  var markerIcon     = markerImages[0];\n  var mapLatLng      = mapPosition[0];\n  var marker;\n  var map;\n\n  if(windowWidth < 600) {\n    mapLatLng = mapPosition[1];\n    markerIcon = markerImages[1];\n  }\n\n  map = new google.maps.Map(mapContainer, {\n    center: mapLatLng,\n    zoom: 17,\n    styles: mapStyles,\n    scrollwheel: false,\n    disableDefaultUI: true\n  });\n\n  marker = new google.maps.Marker({\n    position: markerLatLng,\n    map: map,\n    icon: markerIcon\n  });\n}\n","(function() {\n  var nav = document.querySelector('.nav');\n  var btn = document.querySelector('.menu-btn');\n  var top = document.querySelector('.top');\n\n  function toggleClass(el, className) {\n    if(!el) return;\n    if(!el.classList.contains(className)) {\n      disableScroll();\n    } else {\n      enableScroll();\n    }\n    el.classList.toggle(className);\n  }\n\n  if(window.innerWidth < 900) {\n    nav.addEventListener('click', function(e) {\n      if(e.target.classList.contains('nav__link')) {\n        toggleClass(nav, 'is-active');\n        toggleClass(btn, 'is-active');\n        toggleClass(top, 'is-active');\n      }\n    });\n\n    btn.addEventListener('click', function(e) {\n      toggleClass(nav, 'is-active');\n      toggleClass(btn, 'is-active');\n      toggleClass(top, 'is-active');\n    });\n  }\n}());\n","(function($) {\n  var scrollTo = (function() {\n    $('.scroll-to').on('click', function(e) {\n      var clickElement = $(this).attr('href');\n      var clickDestination = $(clickElement).offset().top;\n\n      $('html:not(:animated),body:not(:animated)').animate({scrollTop: clickDestination},1000);\n      e.preventDefault();\n    });\n  })();\n\n  var goTop = $('.go-top');\n\n  $(window).on('scroll', function() {\n    if($(window).scrollTop() > 500) {\n      goTop.addClass('is-visible');\n    } else {\n      goTop.removeClass('is-visible');\n    }\n  });\n})(jQuery);\n"]}